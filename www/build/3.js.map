{"version":3,"sources":["../../src/pages/submitphotos/submitphotos.module.ts","../../src/pages/submitphotos/submitphotos.ts"],"names":[],"mappings":"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","file":"3.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { SubmitphotosPage } from './submitphotos';\n\n@NgModule({\n  declarations: [\n    SubmitphotosPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(SubmitphotosPage),\n  ],\n})\nexport class SubmitphotosPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/submitphotos/submitphotos.module.ts","import { Component } from '@angular/core';\r\nimport { IonicPage, NavController, NavParams } from 'ionic-angular';\r\nimport { NativeStorage } from '@ionic-native/native-storage';\r\nimport  {SubmitphotosProvider} from '../../providers/submitphotos/submitphotos';\r\n\r\n@IonicPage()\r\n@Component({\r\n  selector: 'page-submitphotos',\r\n  templateUrl: 'submitphotos.html',\r\n})\r\nexport class SubmitphotosPage {\r\n \r\n  \r\n  constructor(public submitphotos:SubmitphotosProvider, public navCtrl: NavController, public navParams: NavParams,public nativeStorage: NativeStorage) {\r\n  }\r\n  images= [];\r\n  keys=[];\r\n  imagesObj={};\r\n  noOfBedRooms='';\r\n  noOfBathRooms='';\r\n  primaryHeatSource='';\r\n  otherHomeProperties=[];\r\n\r\n  ngOnInit() {\r\n  this.nativeStorage.keys().then((keys) => {\r\n      return Promise.all(keys.map(k => \r\n        this.nativeStorage.getItem(k).then(data=>\r\n        { \r\n          if(k=='noOfBedRooms'){\r\n            this.noOfBedRooms=data;\r\n          }\r\n          if(k=='noOfBathRooms'){\r\n            this.noOfBathRooms=data;\r\n          }\r\n          if(k=='primaryHeatSource'){\r\n            this.primaryHeatSource=data;\r\n          }\r\n          if(k=='otherHomeProperties'){\r\n            this.otherHomeProperties=data;\r\n          }\r\n        })\r\n      ));\r\n    }), e=>{\r\n      console.log(e);\r\n    }\r\n\r\n     this.nativeStorage.keys().then((keys) => {\r\n      return Promise.all(keys.map(k => \r\n        this.nativeStorage.getItem(k).then(data=>\r\n        {\r\n        if (k.match(/^(noOfBedRooms|noOfBathRooms|primaryHeatSource|otherHomeProperties)$/)) {\r\n            // do nothing\r\n        } else {\r\n          // this includes logic needs to be improved added this to avoid IOS default native data \r\n          if(data.includes('data:image/jpeg;base64')) {\r\n            this.imagesObj={\r\n              'key':k,\r\n              'imagedata': data\r\n              }\r\n              this.images.push(this.imagesObj);\r\n          }\r\n          \r\n        }\r\n          })\r\n      ));\r\n    }), e=>{\r\n      console.log(e);\r\n    }\r\n    \r\n  }\r\n  \r\n  \r\n  editPhoto(k){\r\n    this.navCtrl.push('TakeaphotoPage',{'photoId':k,'editPhoto':'Yes'});\r\n    \r\n  }\r\n  \r\n  submitPhotos(){\r\n    var finalObj={\r\n      \"policyNumber\": \"PRA000022332\",\r\n      \"zip\": \"02169\",\r\n      \"dob\": \"08/08/2000\",\r\n      \"homeData\": {\r\n        \"noOfBedRooms\":this.noOfBedRooms,\r\n        \"noOfBathRooms\": this.noOfBathRooms,\r\n       \"primaryHeatSource\":this.primaryHeatSource,\r\n       \"otherHomeProperties\":this.otherHomeProperties,\r\n       \"homeImages\": this.images\r\n      }\r\n    };\r\n   console.log(finalObj);\r\n  //  //submit photo service\r\n  //  this.submitphotos.submitPhotos(finalObj).subscribe(\r\n  //   result => {\r\n  //     if (result) {\r\n       \r\n  //     }\r\n  //   },\r\n  //   (error) => {\r\n  //     console.log(\"Error....\" + error);\r\n  //   }\r\n  // );\r\n    this.navCtrl.push('ThankyouPage');\r\n  // this.nativeStorage.clear();\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/submitphotos/submitphotos.ts"],"sourceRoot":""}